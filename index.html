<!DOCTYPE html>
<html>
<head>
  <title>Spelling Master</title>
  <style>
    body { font-family: Arial; text-align: center; margin-top: 50px; background: #f0f8ff; }
    h1 { color: #3366cc; }
    input { font-size: 30px; padding: 10px; }
    button { font-size: 30px; padding: 15px 30px; margin: 20px; background: #4CAF50; color: white; border: none; cursor: pointer; }
    #result { font-size: 40px; margin: 30px; }
    #listen { background: #ff9800; }
  </style>
</head>
<body>
  <h1>4th Grade Spelling Practice</h1>
  <p>Listen to the word, then type it!</p>
  <button id="listen" onclick="speak()">üîä Listen</button>
  <br>
  <input type="text" id="answer" placeholder="Type the word here">
  <br>
  <button onclick="check()">Check Answer</button>
  <button onclick="next()">Next Word</button>
  <div id="result"></div>
  <p>Score: <span id="score">0</span></p>

  <script>
    const words = ["receive","believe","tomorrow","beautiful","different","environment","government","necessary","separate","knowledge"];
    let current = "";
    let score = 0;

    function next() {
      current = words[Math.floor(Math.random()*words.length)];
      document.getElementById("answer").value = "";
      document.getElementById("result").innerText = "";
      speak(); // Auto-speak the new word
    }

    function speak() {
      if ('speechSynthesis' in window) {
        let utterance = new SpeechSynthesisUtterance(current);
        utterance.rate = 0.8; // Slower for kids
        speechSynthesis.speak(utterance);
      } else {
        alert("Sorry, your device doesn't support voice. Try on a phone or computer.");
      }
    }

    function check() {
      let typed = document.getElementById("answer").value.trim().toLowerCase();
      if (typed === current.toLowerCase()) {
        document.getElementById("result").innerHTML = "Correct! ‚≠ê";
        score++;
      } else {
        document.getElementById("result").innerHTML = `Wrong. It's <b>${current}</b> (listen again!)`;
      }
      document.getElementById("score").innerText = score;
    }

    next(); // Start first word
  </script>
</body>
</html>
